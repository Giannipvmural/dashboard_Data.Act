<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EU Data Act Compliance Benchmark: Company Positions on Termination & Refunds</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
</head>
<body>
    <div class="loading-state" id="loadingState" role="status" aria-live="polite">
        <span class="loading-spinner" aria-hidden="true"></span>
        <span class="loading-message">Loading dashboard data…</span>
    </div>
    <div class="container">
        <!-- Header Section -->
        <header class="dashboard-header">
            <h1>EU Data Act Compliance Benchmark: Company Positions on Termination & Refunds</h1>
            <p class="subtitle">Analysis of how major cloud and SaaS providers handle termination for convenience and refund policies</p>
            
            <div class="stats-grid" role="list">
                <div class="stat-card" role="listitem" aria-labelledby="total-companies-label">
                    <dl class="stat-list">
                        <dt class="stat-label" id="total-companies-label">Companies Analyzed</dt>
                        <dd class="stat-number" id="total-companies" aria-live="polite">--</dd>
                    </dl>
                </div>
                <div class="stat-card" role="listitem" aria-labelledby="strict-count-label">
                    <dl class="stat-list">
                        <dt class="stat-label" id="strict-count-label">Strict Approach</dt>
                        <dd class="stat-number" id="strict-count" aria-live="polite">--</dd>
                    </dl>
                </div>
                <div class="stat-card" role="listitem" aria-labelledby="moderate-count-label">
                    <dl class="stat-list">
                        <dt class="stat-label" id="moderate-count-label">Moderate Approach</dt>
                        <dd class="stat-number" id="moderate-count" aria-live="polite">--</dd>
                    </dl>
                </div>
                <div class="stat-card" role="listitem" aria-labelledby="friendly-count-label">
                    <dl class="stat-list">
                        <dt class="stat-label" id="friendly-count-label">Customer-Friendly</dt>
                        <dd class="stat-number" id="friendly-count" aria-live="polite">--</dd>
                    </dl>
                </div>
                <div class="stat-card" role="listitem" aria-labelledby="balanced-count-label">
                    <dl class="stat-list">
                        <dt class="stat-label" id="balanced-count-label">Balanced Approach</dt>
                        <dd class="stat-number" id="balanced-count" aria-live="polite">--</dd>
                    </dl>
                </div>
            </div>
        </header>

        <!-- Tab Navigation -->
        <nav class="tab-navigation" role="tablist" aria-label="Dashboard sections">
            <button class="tab-button active" id="tab-overview" type="button" role="tab" aria-selected="true" aria-controls="overview">Overview</button>
            <button class="tab-button" id="tab-comparison" type="button" role="tab" aria-selected="false" aria-controls="comparison" tabindex="-1">Company Comparison</button>
            <button class="tab-button" id="tab-analysis" type="button" role="tab" aria-selected="false" aria-controls="analysis" tabindex="-1">Policy Analysis</button>
            <button class="tab-button" id="tab-clauses" type="button" role="tab" aria-selected="false" aria-controls="clauses" tabindex="-1">Contract Clauses</button>
        </nav>

        <!-- Tab Content -->
        <main class="tab-content">
            <!-- Overview Tab -->
            <div id="overview" class="tab-panel active" role="tabpanel" aria-labelledby="tab-overview" tabindex="0">
                <div class="charts-grid">
                    <div class="chart-section">
                        <h3 id="terminationChartHeading">Termination Fee Approaches Distribution</h3>
                        <div class="chart-container">
                            <canvas id="terminationChart" role="img" aria-labelledby="terminationChartHeading terminationChartDesc">Bar chart comparing termination fee approaches.</canvas>
                            <p class="chart-description sr-only" id="terminationChartDesc">Loading termination fee data…</p>
                            <p class="chart-empty" id="terminationChartEmpty" hidden>No companies match the current filters, so there is no termination fee data to visualize.</p>
                        </div>
                    </div>
                    <div class="chart-section">
                        <h3 id="refundChartHeading">Refund Policy Distribution</h3>
                        <div class="chart-container">
                            <canvas id="refundChart" role="img" aria-labelledby="refundChartHeading refundChartDesc">Doughnut chart comparing refund policies.</canvas>
                            <p class="chart-description sr-only" id="refundChartDesc">Loading refund policy data…</p>
                            <p class="chart-empty" id="refundChartEmpty" hidden>No companies match the current filters, so there is no refund policy data to visualize.</p>
                        </div>
                    </div>
                </div>
                
                <div class="spectrum-section">
                    <h3>Termination Fee Spectrum</h3>
                    <div class="spectrum-visualization">
                        <div class="spectrum-bar">
                            <div class="spectrum-point cloud">
                                <div class="spectrum-label">0%</div>
                                <div class="spectrum-desc">Cloud Providers</div>
                            </div>
                            <div class="spectrum-point mural">
                                <div class="spectrum-label">33%</div>
                                <div class="spectrum-desc">Mural</div>
                            </div>
                            <div class="spectrum-point proportionate">
                                <div class="spectrum-label">Proportionate</div>
                                <div class="spectrum-desc">Samsara</div>
                            </div>
                            <div class="spectrum-point full">
                                <div class="spectrum-label">100%</div>
                                <div class="spectrum-desc">Traditional</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="insights-section">
                    <h3>Key Insights</h3>
                    <ul class="insights-list">
                        <li><strong>Mural introduces a unique moderate approach</strong> with 33% early termination fees, creating a new middle ground</li>
                        <li><strong>Creates a spectrum:</strong> 0% (Cloud) → 33% (Mural) → Proportionate (Samsara) → 100% (Traditional)</li>
                        <li><strong>Mural offers extended transition period</strong> up to 3 months plus 30-day retrieval period</li>
                        <li><strong>Major Cloud Providers</strong> (AWS, Google Cloud, Microsoft) adopt customer-friendly approaches with free data transfers</li>
                        <li><strong>Balances customer switching rights</strong> with revenue protection needs, potentially representing future industry trend</li>
                        <li><strong>Enterprise Software Companies</strong> (Salesforce, Teradata, BMC) tend to enforce stricter termination fees</li>
                    </ul>
                </div>
            </div>

            <!-- Company Comparison Tab -->
            <div id="comparison" class="tab-panel" role="tabpanel" aria-labelledby="tab-comparison" tabindex="0" hidden>
                <div class="filters-section">
                    <div class="filter-controls">
                        <input type="text" id="searchInput" placeholder="Search companies..." class="form-control">
                        <select id="approachFilter" class="form-control">
                            <option value="">All Approaches</option>
                            <option value="Strict">Strict</option>
                            <option value="Moderate">Moderate</option>
                            <option value="Customer-Friendly">Customer-Friendly</option>
                            <option value="Balanced">Balanced</option>
                        </select>
                        <select id="refundFilter" class="form-control">
                            <option value="">All Refund Policies</option>
                            <option value="No Refunds">No Refunds</option>
                            <option value="No Refunds + Pro-rated Retrieval Fees">No Refunds + Pro-rated</option>
                            <option value="Credits/Free Transfer">Credits/Free Transfer</option>
                            <option value="Not Specified">Not Specified</option>
                        </select>
                        <button type="button" id="exportButton" class="btn btn--outline">Download CSV</button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table id="companyTable" class="company-table">
                        <thead>
                            <tr>
                                <th scope="col" class="sortable" data-column="name" aria-sort="none">Company</th>
                                <th scope="col" class="sortable" data-column="approach" aria-sort="none">Approach</th>
                                <th scope="col" class="sortable" data-column="terminationFee" aria-sort="none">Termination Fee</th>
                                <th scope="col" class="sortable" data-column="refundPolicy" aria-sort="none">Refund Policy</th>
                                <th scope="col" class="sortable" data-column="noticeMonths" aria-sort="none">Notice Period</th>
                                <th>Contract Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                    <div class="table-empty" id="tableEmptyState" hidden>No companies match the current filters. Adjust your search or filter selections to see results.</div>
                </div>
            </div>

            <!-- Policy Analysis Tab -->
            <div id="analysis" class="tab-panel" role="tabpanel" aria-labelledby="tab-analysis" tabindex="0" hidden>
                <div class="analysis-grid">
                    <div class="trends-section">
                        <h3>Industry Trends & Mural's Innovation</h3>
                        <div class="trend-analysis">
                            <div class="trend-item">
                                <h4>Mural's Moderate Approach Innovation</h4>
                                <p>Mural introduces a groundbreaking moderate approach with 33% early termination fees, creating a new category between strict (100%) and customer-friendly (0%) approaches. This balanced model may represent the future direction of industry compliance.</p>
                            </div>
                            <div class="trend-item">
                                <h4>Cloud Providers vs Traditional Software vs New Moderate Model</h4>
                                <p>The landscape now shows three distinct approaches: Major cloud providers (AWS, Google Cloud, Microsoft) adopt customer-friendly policies, traditional enterprise software companies enforce strict fees, and Mural pioneers a moderate middle ground.</p>
                            </div>
                            <div class="trend-item">
                                <h4>Updated Compliance Approach Categorization</h4>
                                <div class="approach-breakdown">
                                    <div class="approach-item">
                                        <span class="approach-badge strict">Strict (<span class="stat-percentage" data-summary="strictApproachPercent">--</span>%)</span>
                                        <p>Full remaining term fees, explicit no-refund policies</p>
                                    </div>
                                    <div class="approach-item">
                                        <span class="approach-badge moderate">Moderate (<span class="stat-percentage" data-summary="moderatePercent">--</span>%)</span>
                                        <p>33% termination fee with extended transition periods</p>
                                    </div>
                                    <div class="approach-item">
                                        <span class="approach-badge friendly">Customer-Friendly (<span class="stat-percentage" data-summary="customerFriendlyPercent">--</span>%)</span>
                                        <p>Free data transfers, waived switching charges</p>
                                    </div>
                                    <div class="approach-item">
                                        <span class="approach-badge balanced">Balanced (<span class="stat-percentage" data-summary="balancedPercent">--</span>%)</span>
                                        <p>Standard compliance without specified penalties</p>
                                    </div>
                                </div>
                            </div>
                            <div class="trend-item">
                                <h4>Mural's Unique Features Analysis</h4>
                                <p>Mural's approach includes extended transition periods (up to 3 months), additional 30-day retrieval periods with pro-rated fees, and a balanced 33% early termination fee that protects revenue while respecting customer switching rights.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="heatmap-section">
                        <h3>Best Practices & Recommendations</h3>
                        <div class="recommendations-grid">
                            <div class="recommendation-card">
                                <h4>For Compliance Officers</h4>
                                <ul>
                                    <li>Consider Mural's moderate approach as a balanced compliance model</li>
                                    <li>Review vendor addendums for hidden termination fees</li>
                                    <li>Negotiate extended transition periods like Mural's 3-month model</li>
                                    <li>Establish clear data portability requirements</li>
                                </ul>
                            </div>
                            <div class="recommendation-card">
                                <h4>For Legal Teams</h4>
                                <ul>
                                    <li>Analyze Mural's moderate fee structure as industry precedent</li>
                                    <li>Ensure contracts align with EU Data Act requirements</li>
                                    <li>Document switching and exit procedures with extended timelines</li>
                                    <li>Review refund and termination clauses regularly</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contract Clauses Tab -->
            <div id="clauses" class="tab-panel" role="tabpanel" aria-labelledby="tab-clauses" tabindex="0" hidden>
                <div class="clauses-overview">
                    <h3>Contract Language Comparison</h3>
                    <p>Detailed view of actual contract language from major providers, showcasing the differences in approach to termination and refund policies, including Mural's unique moderate positioning.</p>
                    
                    <div class="company-selector">
                        <label for="clauseCompanySelect" class="form-label">Select Company for Detailed Clause Analysis:</label>
                        <select id="clauseCompanySelect" class="form-control">
                            <option value="">Choose a company...</option>
                        </select>
                    </div>
                    
                    <div id="selectedCompanyClauses" class="selected-company-clauses" style="display: none;">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>

                <div class="company-grid" id="companyGrid">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
        </main>

        <!-- Modal for Company Details -->
        <div class="company-detail-modal hidden" id="companyModal" role="dialog" aria-modal="true" aria-labelledby="modalCompanyName">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalCompanyName">Company Details</h3>
                    <button class="modal-close" id="modalClose">&times;</button>
                </div>
                <div class="modal-body" id="modalBody">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
